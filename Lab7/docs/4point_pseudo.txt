// reg[0] is where the products are accumulated
// reg[1]-reg[4] holds the last 4 samples, with reg[1] being the oldest
// reg[5] is where the new sample is copied to
// reg[6]-reg[9] is where the coefficients are stored, with reg[6] holding F3
// reg[10] is used as intermediate storage space for operations

idle:  if (data_ready == 0) goto idle;  // wait until data_ready == 1
store: if (data_ready == 0) goto eidle;
       reg[5] = data;                   // store data in a register
       err = 0;                         // reset error
zero:  reg[0] = 0;                      // zero out accumulator
sort1: reg[1] = reg[2];                 // reorder registers
sort2: reg[2] = reg[3];                 // reorder registers
sort3: reg[3] = reg[4];                 // reorder registers
sort4: reg[4] = reg[5];                 // reorder registers
